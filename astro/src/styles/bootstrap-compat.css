/*
 * Bootstrap Compatibility Layer for Astro Migration
 *
 * Maps commonly-used Bootstrap 4.x classes to CSS equivalents.
 * This allows existing markdown content with Bootstrap markup to render correctly
 * while we gradually modernize to Tailwind/native CSS.
 *
 * IMPORTANT: Bootstrap-specific components (cards, alerts, buttons) are scoped
 * under the .bs-compat marker class. The preprocessing script automatically
 * adds 'bs-compat' to elements using Bootstrap patterns, so these styles only
 * apply to legacy content, not Astro components.
 *
 * Covers: Cards, Alerts, Buttons, Grid basics, Text utilities, Colors
 */

/* ==========================================================================
   Bootstrap Components (scoped under .bs-compat marker class)

   The .bs-compat class is automatically added during preprocessing to elements
   that use Bootstrap patterns. This ensures Bootstrap compat styles don't
   conflict with Tailwind or custom styling used in Astro components.
   ========================================================================== */

.bs-compat {
  /* Card Components */

  &.card-deck {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  &.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 12rem;
    max-width: 20rem;
    flex: 1 1 auto;
    background-color: #fff;
    border: 1px solid rgba(0, 0, 0, 0.125);
    border-radius: 0.5rem;
    overflow: hidden;

    /* Card content that's not in card-body still needs padding */
    > p,
    > ul,
    > ol {
      padding: 0 1rem;
      margin-bottom: 0.75rem;
    }

    > p:last-child {
      margin-bottom: 1rem;
    }
  }

  &.card-header {
    padding: 0.75rem 1rem;
    margin-bottom: 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    font-weight: 600;

    &:first-child {
      border-radius: calc(0.5rem - 1px) calc(0.5rem - 1px) 0 0;
    }
  }

  &.card-body {
    flex: 1 1 auto;
    padding: 1rem;
  }

  &.card-title {
    margin-bottom: 0.75rem;
    font-weight: 600;
  }

  &.card-text {
    margin-bottom: 0;
  }

  &.card-footer {
    padding: 0.75rem 1rem;
    background-color: rgba(0, 0, 0, 0.03);
    border-top: 1px solid rgba(0, 0, 0, 0.125);
  }

  &.card-img-top {
    width: 100%;
    border-top-left-radius: calc(0.5rem - 1px);
    border-top-right-radius: calc(0.5rem - 1px);
  }

  &.card-img-bottom {
    width: 100%;
    border-bottom-left-radius: calc(0.5rem - 1px);
    border-bottom-right-radius: calc(0.5rem - 1px);
  }

  /* Alert Components */

  &.alert {
    position: relative;
    padding: 0.75rem 1.25rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: 0.375rem;
  }

  &.alert-primary {
    color: #1a3a54;
    background-color: #cfe2ff;
    border-color: #b6d4fe;
  }

  &.alert-secondary {
    color: #383d41;
    background-color: #e2e3e5;
    border-color: #d6d8db;
  }

  &.alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
  }

  &.alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
  }

  &.alert-warning {
    color: #856404;
    background-color: #fff3cd;
    border-color: #ffeeba;
  }

  &.alert-info {
    color: #0c5460;
    background-color: #d1ecf1;
    border-color: #bee5eb;
  }

  &.alert-light {
    color: #818182;
    background-color: #fefefe;
    border-color: #fdfdfe;
  }

  &.alert-dark {
    color: #1b1e21;
    background-color: #d6d8d9;
    border-color: #c6c8ca;
  }

  /* Button Components */

  &.btn {
    display: inline-block;
    font-weight: 400;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    user-select: none;
    border: 1px solid transparent;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    border-radius: 0.375rem;
    transition:
      color 0.15s ease-in-out,
      background-color 0.15s ease-in-out,
      border-color 0.15s ease-in-out;
    cursor: pointer;
    text-decoration: none;

    &:hover {
      text-decoration: none;
    }
  }

  &.btn-primary {
    color: #fff !important;
    background-color: #25537b !important;
    border-color: #25537b !important;

    &:hover {
      background-color: #1d4263 !important;
      border-color: #1d4263 !important;
    }
  }

  &.btn-secondary {
    color: #fff !important;
    background-color: #6c757d !important;
    border-color: #6c757d !important;

    &:hover {
      background-color: #5a6268 !important;
      border-color: #545b62 !important;
    }
  }

  &.btn-success {
    color: #fff !important;
    background-color: #28a745 !important;
    border-color: #28a745 !important;

    &:hover {
      background-color: #218838 !important;
      border-color: #1e7e34 !important;
    }
  }

  &.btn-danger {
    color: #fff !important;
    background-color: #dc3545 !important;
    border-color: #dc3545 !important;

    &:hover {
      background-color: #c82333 !important;
      border-color: #bd2130 !important;
    }
  }

  &.btn-warning {
    color: #212529 !important;
    background-color: #ffc107 !important;
    border-color: #ffc107 !important;

    &:hover {
      background-color: #e0a800 !important;
      border-color: #d39e00 !important;
    }
  }

  &.btn-info {
    color: #fff !important;
    background-color: #117a8b !important; /* Darkened from #17a2b8 for better contrast */
    border-color: #117a8b !important;

    &:hover {
      background-color: #0d5f6c !important;
      border-color: #0c545d !important;
    }
  }

  &.btn-light {
    color: #212529 !important;
    background-color: #f8f9fa !important;
    border-color: #f8f9fa !important;

    &:hover {
      background-color: #e2e6ea !important;
      border-color: #dae0e5 !important;
    }
  }

  &.btn-dark {
    color: #fff !important;
    background-color: #343a40 !important;
    border-color: #343a40 !important;

    &:hover {
      background-color: #23272b !important;
      border-color: #1d2124 !important;
    }
  }

  &.btn-link {
    font-weight: 400;
    color: #25537b;
    background-color: transparent;
    border-color: transparent;

    &:hover {
      color: #1d4263;
      text-decoration: underline;
    }
  }

  &.btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
    border-radius: 0.25rem;
  }

  &.btn-lg {
    padding: 0.5rem 1rem;
    font-size: 1.25rem;
    border-radius: 0.5rem;
  }

  /* Typography */

  &.lead {
    font-size: 1.25rem;
    font-weight: 300;
    line-height: 1.6;
  }

  /* Tables */

  &.table {
    width: 100%;
    margin-bottom: 1rem;
    color: #212529;
    border-collapse: collapse;
  }

  &.table th,
  &.table td {
    padding: 0.75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
  }

  &.table thead th {
    vertical-align: bottom;
    border-bottom: 2px solid #dee2e6;
  }

  &.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0, 0, 0, 0.05);
  }

  &.table-bordered {
    border: 1px solid #dee2e6;
  }

  &.table-bordered th,
  &.table-bordered td {
    border: 1px solid #dee2e6;
  }

  &.table-hover tbody tr:hover {
    background-color: rgba(0, 0, 0, 0.075);
  }
}

/* Bootstrap .table within .prose should preserve inline styles (statistics/citations page) */
.prose .bs-compat.table th,
.prose .bs-compat.table td {
  background-color: inherit;
  color: inherit;
}

/* Restore styling for .table headers without inline background colors */
.prose .bs-compat.table th:not([style*='background-color']) {
  background-color: transparent;
  color: #1f2937;
}

/* ==========================================================================
   Galaxy-specific Background Colors (SIG/WG pages)
   Colors match original Gridsome site
   ========================================================================== */

.bg-sig-field {
  background-color: #006b15 !important; /* Dark green */
}

.bg-sig-method {
  background-color: #630177 !important; /* Purple */
}

.bg-sig-service {
  background-color: #77072f !important; /* Maroon */
}

.bg-sig-region {
  background-color: #cc4d00 !important; /* Orange */
}

.bg-sig-projects {
  background-color: #150276 !important; /* Navy */
}

.bg-wg-primary {
  background-color: #6286a6 !important; /* Slate blue */
}

.bg-wg-goats {
  background-color: #61ad90 !important; /* Teal */
}

.bg-wg-applied {
  background-color: #8886b3 !important; /* Lavender */
}

.bg-wg-all {
  background-color: #d87e55 !important; /* Terracotta */
}

/* ==========================================================================
   Bootstrap Standard Background Colors
   ========================================================================== */

.bg-primary {
  background-color: #25537b !important; /* Galaxy primary */
}

.bg-secondary {
  background-color: #6c757d !important;
}

.bg-success {
  background-color: #28a745 !important;
}

.bg-danger {
  background-color: #dc3545 !important;
}

.bg-warning {
  background-color: #ffc107 !important;
}

.bg-info {
  background-color: #17a2b8 !important;
}

.bg-light {
  background-color: #f8f9fa !important;
}

.bg-dark {
  background-color: #343a40 !important;
}

.bg-white {
  background-color: #fff !important;
}

.bg-transparent {
  background-color: transparent !important;
}

/* ==========================================================================
   Text Utilities
   ========================================================================== */

.text-white {
  color: #fff !important;
}

.text-muted {
  color: #6c757d !important;
}

.text-primary {
  color: #25537b !important;
}

.text-secondary {
  color: #6c757d !important;
}

.text-success {
  color: #28a745 !important;
}

.text-danger {
  color: #dc3545 !important;
}

.text-warning {
  color: #856404 !important;
}

.text-info {
  color: #0c5460 !important;
}

.text-center {
  text-align: center !important;
}

.text-left {
  text-align: left !important;
}

.text-right {
  text-align: right !important;
}

.font-weight-bold,
.fw-bold {
  font-weight: 700 !important;
}

.font-weight-normal {
  font-weight: 400 !important;
}

.small {
  font-size: 0.875em;
}

/* ==========================================================================
   Basic Grid (row/col)
   ========================================================================== */

.row {
  display: flex;
  flex-wrap: wrap;
  margin-right: -0.75rem;
  margin-left: -0.75rem;
}

.col,
[class*='col-'] {
  position: relative;
  width: 100%;
  padding-right: 0.75rem;
  padding-left: 0.75rem;
}

.col {
  flex-basis: 0;
  flex-grow: 1;
  max-width: 100%;
}

.col-auto {
  flex: 0 0 auto;
  width: auto;
}

.col-1 {
  flex: 0 0 8.333333%;
  max-width: 8.333333%;
}
.col-2 {
  flex: 0 0 16.666667%;
  max-width: 16.666667%;
}
.col-3 {
  flex: 0 0 25%;
  max-width: 25%;
}
.col-4 {
  flex: 0 0 33.333333%;
  max-width: 33.333333%;
}
.col-5 {
  flex: 0 0 41.666667%;
  max-width: 41.666667%;
}
.col-6 {
  flex: 0 0 50%;
  max-width: 50%;
}
.col-7 {
  flex: 0 0 58.333333%;
  max-width: 58.333333%;
}
.col-8 {
  flex: 0 0 66.666667%;
  max-width: 66.666667%;
}
.col-9 {
  flex: 0 0 75%;
  max-width: 75%;
}
.col-10 {
  flex: 0 0 83.333333%;
  max-width: 83.333333%;
}
.col-11 {
  flex: 0 0 91.666667%;
  max-width: 91.666667%;
}
.col-12 {
  flex: 0 0 100%;
  max-width: 100%;
}

/* Medium breakpoint (768px+) */
@media (min-width: 768px) {
  .col-md-1 {
    flex: 0 0 8.333333%;
    max-width: 8.333333%;
  }
  .col-md-2 {
    flex: 0 0 16.666667%;
    max-width: 16.666667%;
  }
  .col-md-3 {
    flex: 0 0 25%;
    max-width: 25%;
  }
  .col-md-4 {
    flex: 0 0 33.333333%;
    max-width: 33.333333%;
  }
  .col-md-5 {
    flex: 0 0 41.666667%;
    max-width: 41.666667%;
  }
  .col-md-6 {
    flex: 0 0 50%;
    max-width: 50%;
  }
  .col-md-7 {
    flex: 0 0 58.333333%;
    max-width: 58.333333%;
  }
  .col-md-8 {
    flex: 0 0 66.666667%;
    max-width: 66.666667%;
  }
  .col-md-9 {
    flex: 0 0 75%;
    max-width: 75%;
  }
  .col-md-10 {
    flex: 0 0 83.333333%;
    max-width: 83.333333%;
  }
  .col-md-11 {
    flex: 0 0 91.666667%;
    max-width: 91.666667%;
  }
  .col-md-12 {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

/* Large breakpoint (992px+) */
@media (min-width: 992px) {
  .col-lg-1 {
    flex: 0 0 8.333333%;
    max-width: 8.333333%;
  }
  .col-lg-2 {
    flex: 0 0 16.666667%;
    max-width: 16.666667%;
  }
  .col-lg-3 {
    flex: 0 0 25%;
    max-width: 25%;
  }
  .col-lg-4 {
    flex: 0 0 33.333333%;
    max-width: 33.333333%;
  }
  .col-lg-5 {
    flex: 0 0 41.666667%;
    max-width: 41.666667%;
  }
  .col-lg-6 {
    flex: 0 0 50%;
    max-width: 50%;
  }
  .col-lg-7 {
    flex: 0 0 58.333333%;
    max-width: 58.333333%;
  }
  .col-lg-8 {
    flex: 0 0 66.666667%;
    max-width: 66.666667%;
  }
  .col-lg-9 {
    flex: 0 0 75%;
    max-width: 75%;
  }
  .col-lg-10 {
    flex: 0 0 83.333333%;
    max-width: 83.333333%;
  }
  .col-lg-11 {
    flex: 0 0 91.666667%;
    max-width: 91.666667%;
  }
  .col-lg-12 {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

/* ==========================================================================
   Spacing Utilities (margins/padding)
   ========================================================================== */

.m-0 {
  margin: 0 !important;
}
.m-1 {
  margin: 0.25rem !important;
}
.m-2 {
  margin: 0.5rem !important;
}
.m-3 {
  margin: 1rem !important;
}
.m-4 {
  margin: 1.5rem !important;
}
.m-5 {
  margin: 3rem !important;
}

.mt-0 {
  margin-top: 0 !important;
}
.mt-1 {
  margin-top: 0.25rem !important;
}
.mt-2 {
  margin-top: 0.5rem !important;
}
.mt-3 {
  margin-top: 1rem !important;
}
.mt-4 {
  margin-top: 1.5rem !important;
}
.mt-5 {
  margin-top: 3rem !important;
}

.mb-0 {
  margin-bottom: 0 !important;
}
.mb-1 {
  margin-bottom: 0.25rem !important;
}
.mb-2 {
  margin-bottom: 0.5rem !important;
}
.mb-3 {
  margin-bottom: 1rem !important;
}
.mb-4 {
  margin-bottom: 1.5rem !important;
}
.mb-5 {
  margin-bottom: 3rem !important;
}

.ml-0 {
  margin-left: 0 !important;
}
.ml-1 {
  margin-left: 0.25rem !important;
}
.ml-2 {
  margin-left: 0.5rem !important;
}
.ml-3 {
  margin-left: 1rem !important;
}
.ml-4 {
  margin-left: 1.5rem !important;
}
.ml-auto {
  margin-left: auto !important;
}

.mr-0 {
  margin-right: 0 !important;
}
.mr-1 {
  margin-right: 0.25rem !important;
}
.mr-2 {
  margin-right: 0.5rem !important;
}
.mr-3 {
  margin-right: 1rem !important;
}
.mr-4 {
  margin-right: 1.5rem !important;
}
.mr-auto {
  margin-right: auto !important;
}

.mx-auto {
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Note: my-*, mx-*, px-*, py-* utilities intentionally not defined here
   to avoid conflicts with Tailwind's spacing scale. Content using these
   Bootstrap classes will get Tailwind's values instead, which are close enough. */

.p-0 {
  padding: 0 !important;
}
.p-1 {
  padding: 0.25rem !important;
}
.p-2 {
  padding: 0.5rem !important;
}
.p-3 {
  padding: 1rem !important;
}
.p-4 {
  padding: 1.5rem !important;
}
.p-5 {
  padding: 3rem !important;
}

/* Padding utilities - only defining non-conflicting ones.
   px-*, py-* left to Tailwind to avoid spacing scale conflicts. */
.pt-0 {
  padding-top: 0 !important;
}
.pb-0 {
  padding-bottom: 0 !important;
}

/* ==========================================================================
   Display Utilities
   ========================================================================== */

.d-none {
  display: none !important;
}
.d-inline {
  display: inline !important;
}
.d-inline-block {
  display: inline-block !important;
}
.d-block {
  display: block !important;
}
.d-flex {
  display: flex !important;
}

.flex-row {
  flex-direction: row !important;
}
.flex-column {
  flex-direction: column !important;
}
.flex-wrap {
  flex-wrap: wrap !important;
}
.justify-content-start {
  justify-content: flex-start !important;
}
.justify-content-end {
  justify-content: flex-end !important;
}
.justify-content-center {
  justify-content: center !important;
}
.justify-content-between {
  justify-content: space-between !important;
}
.align-items-start {
  align-items: flex-start !important;
}
.align-items-end {
  align-items: flex-end !important;
}
.align-items-center {
  align-items: center !important;
}

/* ==========================================================================
   Misc Utilities
   ========================================================================== */

.float-left {
  float: left !important;
}
.float-right {
  float: right !important;
}
.clearfix::after {
  display: block;
  clear: both;
  content: '';
}

.rounded {
  border-radius: 0.375rem !important;
}
.rounded-circle {
  border-radius: 50% !important;
}

.border {
  border: 1px solid #dee2e6 !important;
}
.border-0 {
  border: 0 !important;
}
.border-top {
  border-top: 1px solid #dee2e6 !important;
}
.border-bottom {
  border-bottom: 1px solid #dee2e6 !important;
}

.shadow {
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}
.shadow-sm {
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;
}

.w-100 {
  width: 100% !important;
}
.h-100 {
  height: 100% !important;
}

.img-fluid {
  max-width: 100%;
  height: auto;
}

/* ==========================================================================
   Font Awesome Compatibility (basic icons)
   Common icons used in Galaxy Hub content
   ========================================================================== */

.fa,
.fas,
.far,
.fab {
  display: inline-block;
  font-style: normal;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
}

/* Simple arrow/link indicators using CSS */
.fa-external-link-alt::before {
  content: '↗';
  font-size: 0.8em;
}

.fa-chevron-right::before {
  content: '›';
}

.fa-chevron-left::before {
  content: '‹';
}

.fa-check::before {
  content: '✓';
}

.fa-times::before {
  content: '✕';
}

.fa-info-circle::before {
  content: 'ℹ';
}

.fa-exclamation-triangle::before {
  content: '⚠';
}

.fa-envelope::before {
  content: '✉';
}

.fa-github::before {
  content: '';
}

.fa-twitter::before {
  content: '';
}

/* Hide icons that don't have CSS equivalents - they'll just be empty */
[class*='fa-']:not(.fa-external-link-alt):not(.fa-chevron-right):not(.fa-chevron-left):not(.fa-check):not(
    .fa-times
  ):not(.fa-info-circle):not(.fa-exclamation-triangle):not(.fa-envelope):not(.fa-github):not(.fa-twitter)::before {
  content: '';
}

/* Accessibility - hide from screen readers when decorative */
[aria-hidden='true'] {
  speak: never;
}
